08——vue 特殊标签中组件  动态组件

1. 特殊标签中组件的使用：

   只需修改模板

   （==用匹配的标签添加 is 属性，指向相应的组件==）

   demo：

   ```html
   <table> <tr is="row"></tr></table>
   ```

2. 获取模板中的原生 Dom 对象

   有些需求 Vue 不能够完成，需要借助原生 dom（比如滚动加载的时机）

   解决办法：

   ==在模板中添加 ref 属性==

   <div class="module m2"  ref="goods">模块2</div>

   ==用 $refs   来获取对应的 Dom==

   var m2 = this.$refs.goods;

   注意：

   ==一定是在模板渲染完毕之后才能使用 $refs==，并且得到的数据==不是响应式的==，仅仅作为得到子组件的一种应急方案

3. 动态组件：

   - 如需在点击不同标签，动态切换下方组件，可以使用动态组件解决

     ```html
     <div id="app">
         <component :is="com"></component>
     </div>
     // 通过改变 com 的值来切换
     ```

   - keep-alive：

     当切换之后，想缓存第一次创建时的状态，可以使用 keep-alive 将动态组件包裹起来

     （如果把切换出去的组件保留在内存中，可以保留它的状态或避免重新渲染）

     补充：

     1. keep-alive 要求被切换到的组件都有自己的名字，不论是通过组件的 name 选项还是局部 / 全局注册
     2. ==keep-alive 内部同时激活的组件只能有一个==