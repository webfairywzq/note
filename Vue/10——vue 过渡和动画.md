10——vue 过渡和动画

1. 单元素 / 组件的过渡：

   Vue 提供了 transition 封装组件，在下列情形中可以给任何元素和组件添加进入 / 离开过渡

   1. 条件渲染 v-if
   2. 条件显示 v-show
   3. 动态组件 《component  :is="" 》
   4. 组件根节点

2. 动画原理：

   当插入或删除包含在 transition 组件中的元素时，Vue 将做以下处理：

   - 自动嗅探目标元素是否应用了 CSS 过渡动画，如果是，在恰当的时机添加 / 删除 css 类名
   - 如果过渡组件提供了 JavaScript 钩子函数，这些钩子函数将在恰当的时机被调用

3. 过渡的类名：

   在进入 / 离开的过渡中，会有 6 个 class 切换：

   1. v-enter ：定义进入过渡的开始状态（在元素被插入之前生效，在元素被插入之后的下一帧移除）
   2. v-enter-active：定义进入过渡生效时的状态（在整个进入过渡的阶段中应用，在元素被插入之前生效，在过渡 / 动画完成之后移除）
   3. v-enter-to：==（2.1.8版本及以上）==定义进入过渡的结束状态（在元素被插入之后的下一帧生效，与此同时，v-enter 被移除，在过渡 / 动画完成之后移除）
   4. v-leave：定义离开过渡的开始状态（在离开过渡被触发时立刻生效，下一帧移除）
   5. v-leave-active：定义离开过渡生效时的状态（在整个离开过渡的阶段中应用，在离开过渡被触发时生效，在过渡 / 动画完成之后移除）
   6. v-leave-to：==（2.1.8版本及以上）== 定义离开过渡的结束状态（在离开过渡被触发之后下一帧生效，与此同时，v-leave 被删除，在过渡 / 动画完成之后移除）

4. 多个元素的过渡：

   当有着相同标签名的元素切换时，需要通过 ==key==  特性设置唯一的值来标记以让 vue 区分，否则 Vue 为了效率只会替换相同标签内部的内容

5. 过渡模式：mode （mode=“out-in / in-out ”）

   同时生效的进入和离开的过渡不能满足所有要求，so 提供了过渡模式

   1. in-out：新元素先进行过渡，完成之后当前元素过渡离开
   2. out-in：当前元素先进行过渡，完成之后新元素过渡进入

6. 多个组件的过渡：

   不需要使用 key 特性，使用动态组件

   ==如果在 transition 中添加 appear ，则页面初始渲染时，即出现过渡==

7. 列表过渡：

   使用 《transition-group》 组件

   1. 不同于 《transition》，它会以一个真实元素呈现（默认为一个 span），也可通过 ==tag== 特性更换为其他元素

      （name=”动画效果名字“）

   2. 过渡模式不可用（因为不再相互切换特有的元素）

   3. 内部元素总是需要提供唯一的 key 属性值

   4. .list-move{

      ​	transition: transform 1s;   // ==加此样式，使效果更优化==

      }

8. css3 动画用在 transition 中：

   @keyframe  动画名{

   } 或使用 animate.css

   v-enter-active

   v-leave-active{

   ​	animation: 动画名 时间;

   }