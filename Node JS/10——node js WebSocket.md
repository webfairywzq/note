10——node js WebSocket

1. 定义：

   WebSocket 是基于 HTML5 发明的一种在单个 TCP 连接上进行全双工的通讯协议

2. 为什么发明 WebSocket？

   1. HTTP 协议是一种==无连接、无状态、单向的应用层协议==（采用了 请求 / 响应模型）

      通信请求只能由客户端发起，服务端对请求做出应答处理

      弊端：==HTTP 协议无法实现服务器主动向客户端发起消息==

   2. 因此，发明了 WebSocket

      - WebSocket 连接允许客户端和服务器之间进行全双工通信，以便任一方都可以通过建立的连接将数据推送到另一端
      - WebSocket 只需要建立一次连接，就可以一直保持连接状态

3. Web 浏览器和服务器都必须实现 WebSocket 协议来建立和维护连接

4. 发送：

   1. ws.emit：所有客户端都可以接收（发送给所有人）

   2. socket.emit：自己可以接收（发送给自己）

   3. socket.broadcast.emit：除了自己的其他客户端可以接收

      ==看具体实例过流程==